{% extends "browse/base.html" %}

{% load submit_tags %}
{% load static %}

{% block body_class %}page-browse{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static "vendor/theme/plugins/sky-forms-pro/skyforms/css/sky-forms.css" %}">
    <link rel="stylesheet" href="{% static "vendor/theme/plugins/sky-forms-pro/skyforms/custom/custom-sky-forms.css" %}">
{% endblock css %}

{% block page %}
<div class="search-block-v2">
    <div class="container">
        <div class="col-md-6 col-md-offset-3">
            <h2>
                {{ page_title }}
                <small>{% if topic %}Sustainability Topic{% elif content_type %}Content Type{% endif %}</small>
            </h2>
        </div>
    </div>
</div>

{% block resource_list_body %}
<div class="container s-results margin-bottom-50">
    <div class="row">
        <div class="col-md-3 hidden-xs related-search">
            {% include "browse/results/includes/filter.html" %}
        </div>
        <div class="col-md-9">
            <span class="results-number">
                {{ object_list.count }} result{{ object_list.count|pluralize }}
                {% if request.GET and not request.GET.search%} | <a href=".">Show all</a>{% endif %}
            </span>
          {% block result_list %}
            {% for obj in object_list %}
                {% include "browse/results/includes/item.html" %}
            {% empty %}
                <div class="no-results">No resources match your current filter settings.</div>
            {% endfor %}
          {% endblock %}

          <div class="margin-bottom-30"></div>
          <div class="text-left">
            <ul class="pagination">
                {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}">«</a></li>
                {% endif %}
                {% for p in page_obj.paginator.page_range %}
                <li {% if page_obj.number == p %}class="active"{% endif %}><a href="?page={{ p }}">{{ p }}</a></li>
                {% endfor %}
                {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}">»</a></li>
                {% endif %}
            </ul>
        </div>

        </div>
    </div>
</div>
{% endblock %}
{% endblock %}
